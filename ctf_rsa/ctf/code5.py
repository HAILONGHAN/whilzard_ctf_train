#!/usr/bin/python
# -*- coding: utf-8 -*-
__Author__ = "L1B0@10.0.0.55"

import sys
from libnum import n2s
import gmpy2

def egcd(a, b):
    if a == 0:
        return (b, 0, 1)
    else:
        g, y, x = egcd(b % a, a)
        return (g, x - (b // a) * y, y)

def modinv(a, m):
    g, x, y = egcd(a, m)
    if g != 1:
        raise Exception('modular inverse does not exist')
    else:
    	return x % m

n = 67429986223463725630760851214095205122861566712757096290156130852775779636888134368717091439692391485149944760480157303572754994563434765296623953452761257431107573064032023044818486821895477023173750051598133603675847214577862821214777097737040107831560275593671162948631151791

e1 = 61967635785437322652331201078567365048930922666568441115110461719490654534113
e2 = 205766126176929848227168949492841490531179790972829078582852699147634573122171458527896514644790639038940007774239040950019816134072019031167

c1 = 5822762981879944424561473864620287634409555456758877462439567398879989944707712816448957643839287371123037868433108662054545710675854869153861985791456418794257498996377335090618281582018030521712938036930671348275101114834456069272996599241973297974161300649826701817737861423L
c2 = 705997633009417848857145957952988147669825773624353180591567961488716033203631101756073664193075066102031563449119189790932235272762840949103671277483248720788931071047154630535727579468256892221981227270895827194426781684443499389831949250120695006941674077440102842342282716L


s = egcd(e1,e2)
s1 = s[1]
s2 = s[2]
print s1,s2

if s1 < 0:
    s1 = -s1
    c1 = modinv(c1,n)
if s2 < 0:
    s2 = -s2
    c2 = modinv(c2,n)

print c1,c2
m = (pow(c1,s1,n)*pow(c2,s2,n)) % n
print(n2s(m))